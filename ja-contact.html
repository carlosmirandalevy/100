<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>&#12362;&#21839;&#12356;&#21512;&#12431;&#12379; | 100+ Things to Do with AI | CEMI.AI</title>
    <meta name="description" content="CEMI.AI&#12408;&#12398;&#12362;&#21839;&#12356;&#21512;&#12431;&#12379;&#12290;&#12497;&#12540;&#12477;&#12490;&#12521;&#12452;&#12474;AI&#23398;&#32722;&#12503;&#12525;&#12464;&#12521;&#12512;&#12398;&#12522;&#12463;&#12456;&#12473;&#12488;&#12289;&#12450;&#12475;&#12473;&#12513;&#12531;&#12488;&#12289;&#12497;&#12540;&#12488;&#12490;&#12540;&#12471;&#12483;&#12503;&#12289;&#12414;&#12383;&#12399;&#19968;&#33324;&#30340;&#12394;&#12362;&#21839;&#12356;&#21512;&#12431;&#12379;&#12290;">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://100.cemi.ai/assets/images/100-ai-og.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://100.cemi.ai/assets/images/100-ai-og.png">
    <script src="include.js"></script>
</head>
<body data-page="contact">

<!-- Hero -->
<section class="page-hero">
    <div class="hero-orb hero-orb-1" style="width:300px;height:300px"></div>
    <div class="hero-orb hero-orb-2" style="width:250px;height:250px"></div>
    <div class="page-hero-content">
        <h1><span class="gradient-text">&#12362;&#21839;&#12356;&#21512;&#12431;&#12379;</span></h1>
        <p style="font-size:1.1rem;max-width:550px;margin:var(--space-md) auto 0">&#12372;&#36074;&#21839;&#12289;&#23398;&#32722;&#12503;&#12525;&#12464;&#12521;&#12512;&#12398;&#12522;&#12463;&#12456;&#12473;&#12488;&#12289;&#12497;&#12540;&#12488;&#12490;&#12540;&#12471;&#12483;&#12503;&#12398;&#12372;&#30456;&#35527;&#12394;&#12393;&#12289;&#12362;&#27671;&#36605;&#12395;&#12372;&#36899;&#32097;&#12367;&#12384;&#12373;&#12356;&#12290;</p>
    </div>
</section>

<!-- Contact Form -->
<section class="section">
    <div class="container" style="max-width:700px">

        <form id="contact-form" class="contact-form reveal" novalidate>
            <!-- Honeypot -->
            <div style="position:absolute;left:-9999px;top:-9999px" aria-hidden="true">
                <input type="text" name="website" tabindex="-1" autocomplete="off">
            </div>

            <div class="contact-field">
                <label for="cf-name">&#12362;&#21517;&#21069; <span class="contact-required">*</span></label>
                <input type="text" id="cf-name" maxlength="200" required placeholder="&#12501;&#12523;&#12493;&#12540;&#12512;" autocomplete="name">
                <div class="contact-error" id="cf-err-name"></div>
            </div>

            <div class="contact-field">
                <label for="cf-email">&#12513;&#12540;&#12523;&#12450;&#12489;&#12524;&#12473; <span class="contact-required">*</span></label>
                <input type="email" id="cf-email" required placeholder="you@example.com" autocomplete="email">
                <div class="contact-error" id="cf-err-email"></div>
            </div>

            <div class="contact-field">
                <label for="cf-org">&#32068;&#32340;&#21517; <span style="color:var(--text-secondary);font-weight:400">&#65288;&#20219;&#24847;&#65289;</span></label>
                <input type="text" id="cf-org" maxlength="200" placeholder="&#20250;&#31038;&#21517;&#12414;&#12383;&#12399;&#27231;&#38306;&#21517;" autocomplete="organization">
            </div>

            <div class="contact-field">
                <label for="cf-subject">&#20214;&#21517; <span class="contact-required">*</span></label>
                <select id="cf-subject" required>
                    <option value="">&mdash; &#12488;&#12500;&#12483;&#12463;&#12434;&#36984;&#25246; &mdash;</option>
                    <option value="program">&#23398;&#32722;&#12503;&#12525;&#12464;&#12521;&#12512;&#12398;&#12522;&#12463;&#12456;&#12473;&#12488;</option>
                    <option value="assessment">AI&#12524;&#12487;&#12451;&#12493;&#12473;&#12450;&#12475;&#12473;&#12513;&#12531;&#12488;</option>
                    <option value="consulting">&#12467;&#12531;&#12469;&#12523;&#12486;&#12451;&#12531;&#12464;&#12469;&#12540;&#12499;&#12473;</option>
                    <option value="products">AI&#12503;&#12525;&#12480;&#12463;&#12488;</option>
                    <option value="partnership">&#12497;&#12540;&#12488;&#12490;&#12540;&#12471;&#12483;&#12503;&#12398;&#12362;&#21839;&#12356;&#21512;&#12431;&#12379;</option>
                    <option value="suggest">&#12467;&#12531;&#12486;&#12531;&#12484;&#12398;&#25552;&#26696;</option>
                    <option value="general">&#19968;&#33324;&#30340;&#12394;&#12372;&#36074;&#21839;</option>
                </select>
                <div class="contact-error" id="cf-err-subject"></div>
            </div>

            <div class="contact-field">
                <label for="cf-message">&#12513;&#12483;&#12475;&#12540;&#12472; <span class="contact-required">*</span></label>
                <textarea id="cf-message" rows="6" maxlength="3000" required placeholder="&#12372;&#29992;&#20214;&#12434;&#12362;&#32862;&#12363;&#12379;&#12367;&#12384;&#12373;&#12356;&hellip;"></textarea>
                <div class="contact-char-count" id="cf-cc-message"></div>
                <div class="contact-error" id="cf-err-message"></div>
            </div>

            <div class="contact-field">
                <button type="submit" class="btn btn-primary" id="cf-submit" style="width:100%">&#12513;&#12483;&#12475;&#12540;&#12472;&#12434;&#36865;&#20449;</button>
                <div class="contact-error contact-error-general" id="cf-err-general"></div>
            </div>
        </form>

        <!-- Success State -->
        <div class="contact-success reveal" id="contact-success" style="display:none">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="var(--accent-4)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
            <h2 class="gradient-text" style="margin:var(--space-md) 0 var(--space-sm)">&#12354;&#12426;&#12364;&#12392;&#12358;&#12372;&#12374;&#12356;&#12414;&#12377;&#65281;</h2>
            <p style="color:var(--text-secondary);margin-bottom:var(--space-lg)">&#12513;&#12483;&#12475;&#12540;&#12472;&#12364;&#36865;&#20449;&#12373;&#12428;&#12414;&#12375;&#12383;&#12290;&#12391;&#12365;&#12427;&#12384;&#12369;&#26089;&#12367;&#12372;&#36820;&#20449;&#12356;&#12383;&#12375;&#12414;&#12377;&#12290;</p>
            <button class="btn btn-outline" id="cf-another">&#21029;&#12398;&#12513;&#12483;&#12475;&#12540;&#12472;&#12434;&#36865;&#20449;</button>
        </div>

        <!-- Quick Links -->
        <div class="reveal" style="margin-top:var(--space-2xl);text-align:center">
            <p style="color:var(--text-secondary);margin-bottom:var(--space-md)">&#12362;&#25506;&#12375;&#12398;&#12418;&#12398;&#12399;&#12354;&#12426;&#12414;&#12377;&#12363;&#65311;</p>
            <div style="display:flex;gap:var(--space-md);justify-content:center;flex-wrap:wrap">
                <a href="ja-program.html" class="btn btn-outline" style="font-size:0.9rem">&#23398;&#32722;&#12503;&#12525;&#12464;&#12521;&#12512;</a>
                <a href="ja-ai-readiness.html" class="btn btn-outline" style="font-size:0.9rem">AI&#12524;&#12487;&#12451;&#12493;&#12473;&#12450;&#12475;&#12473;&#12513;&#12531;&#12488;</a>
                <a href="ja-about.html" class="btn btn-outline" style="font-size:0.9rem">&#31169;&#12383;&#12385;&#12395;&#12388;&#12356;&#12390;</a>
            </div>
        </div>

    </div>
</section>

<script>
(function() {
    'use strict';

    var COOLDOWN_MS = 30000;
    var lastSubmitTime = 0;
    var lang = document.documentElement.lang || 'en';

    var form = document.getElementById('contact-form');
    var submitBtn = document.getElementById('cf-submit');
    var successEl = document.getElementById('contact-success');

    // Pre-fill subject from URL param (e.g., ?subject=program)
    var urlParams = new URLSearchParams(window.location.search);
    var preSubject = urlParams.get('subject');
    if (preSubject) {
        var subjectSelect = document.getElementById('cf-subject');
        if (subjectSelect.querySelector('option[value="' + preSubject + '"]')) {
            subjectSelect.value = preSubject;
        }
    }

    // Character counter for message
    var msgInput = document.getElementById('cf-message');
    var msgCounter = document.getElementById('cf-cc-message');
    if (msgInput && msgCounter) {
        msgInput.addEventListener('input', function() {
            var remaining = 3000 - msgInput.value.length;
            msgCounter.textContent = remaining + ' \u6587\u5b57\u6b8b\u308a';
            msgCounter.classList.toggle('warn', remaining < 100);
        });
    }

    function clearErrors() {
        form.querySelectorAll('.contact-error').forEach(function(el) { el.textContent = ''; });
        form.querySelectorAll('.contact-field').forEach(function(el) { el.classList.remove('has-error'); });
    }

    function showError(field, msg) {
        var errEl = document.getElementById('cf-err-' + field);
        if (errEl) errEl.textContent = msg;
        var parent = errEl && errEl.closest('.contact-field');
        if (parent) parent.classList.add('has-error');
    }

    function validate() {
        clearErrors();
        var valid = true;

        var name = document.getElementById('cf-name').value.trim();
        if (!name) { showError('name', '\u304a\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002'); valid = false; }
        else if (name.length > 200) { showError('name', '\u6700\u5927200\u6587\u5b57\u3067\u3059\u3002'); valid = false; }

        var email = document.getElementById('cf-email').value.trim();
        if (!email) { showError('email', '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002'); valid = false; }
        else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) { showError('email', '\u6709\u52b9\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002'); valid = false; }

        var subject = document.getElementById('cf-subject').value;
        if (!subject) { showError('subject', '\u4ef6\u540d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002'); valid = false; }

        var message = document.getElementById('cf-message').value.trim();
        if (!message) { showError('message', '\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002'); valid = false; }
        else if (message.length > 3000) { showError('message', '\u6700\u59273000\u6587\u5b57\u3067\u3059\u3002'); valid = false; }

        return valid;
    }

    // Load Firebase on demand
    var firebaseLoading = false;
    var firebaseReady = false;

    function loadFirebase(callback) {
        if (window.__db) { callback(); return; }
        if (firebaseLoading) {
            var check = setInterval(function() {
                if (window.__db) { clearInterval(check); callback(); }
            }, 100);
            return;
        }
        firebaseLoading = true;
        var fbBase = 'https://www.gstatic.com/firebasejs/10.14.1/';
        var queue = [fbBase + 'firebase-app-compat.js', fbBase + 'firebase-firestore-compat.js', 'firebase-config.js'];
        (function loadNext(i) {
            if (i >= queue.length) { firebaseReady = true; callback(); return; }
            var s = document.createElement('script');
            s.src = queue[i];
            s.onload = function() { loadNext(i + 1); };
            s.onerror = function() {
                showError('general', '\u63a5\u7d9a\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002');
                submitBtn.disabled = false;
                submitBtn.textContent = '\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1';
            };
            document.body.appendChild(s);
        })(0);
    }

    form.addEventListener('submit', function(e) {
        e.preventDefault();
        if (!validate()) return;

        // Rate limiting
        var now = Date.now();
        if (now - lastSubmitTime < COOLDOWN_MS) {
            showError('general', '\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u3002');
            return;
        }

        // Honeypot
        var honeypot = form.querySelector('input[name="website"]');
        if (honeypot && honeypot.value) return;

        submitBtn.disabled = true;
        submitBtn.textContent = '\u9001\u4fe1\u4e2d\u2026';

        loadFirebase(function() {
            if (!window.__db) {
                showError('general', '\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002');
                submitBtn.disabled = false;
                submitBtn.textContent = '\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1';
                return;
            }

            var data = {
                name: document.getElementById('cf-name').value.trim(),
                email: document.getElementById('cf-email').value.trim(),
                organization: document.getElementById('cf-org').value.trim(),
                subject: document.getElementById('cf-subject').value,
                message: document.getElementById('cf-message').value.trim(),
                language: lang,
                page: document.body.dataset.page,
                status: 'new',
                createdAt: firebase.firestore.FieldValue.serverTimestamp()
            };

            window.__db.collection('contacts').add(data).then(function() {
                if (typeof gtag === 'function') gtag('event', 'contact_submit', { subject: data.subject, language: data.language });
                lastSubmitTime = Date.now();
                form.style.display = 'none';
                successEl.style.display = '';
                submitBtn.disabled = false;
                submitBtn.textContent = '\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1';
            }).catch(function() {
                showError('general', '\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002');
                submitBtn.disabled = false;
                submitBtn.textContent = '\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1';
            });
        });
    });

    // "Send Another" button
    document.getElementById('cf-another').addEventListener('click', function() {
        successEl.style.display = 'none';
        form.style.display = '';
        form.reset();
        clearErrors();
    });
})();
</script>

</body>
</html>
